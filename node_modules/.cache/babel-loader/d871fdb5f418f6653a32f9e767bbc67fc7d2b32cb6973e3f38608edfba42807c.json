{"ast":null,"code":"import axios from \"axios\";\n// import { useCallback, useEffect, useRef, useState } from \"react\";\n\nexport const url = (path, param) => {\n  return `http://etlclonetoyproject-env.eba-a6rqj2ev.ap-northeast-2.elasticbeanstalk.com${path}`;\n};\nexport const auth = token => ({\n  Authorization: `Token ${token}`\n});\nexport const apiSignUp = (email, password, username, student_id, is_professor) => {\n  return axios.post(url(\"/authentication/signup/\"), {\n    email,\n    password,\n    username,\n    student_id,\n    is_professor\n  }, {\n    withCredentials: true\n  });\n};\nexport const apiLogin = (email, password) => {\n  return axios.post(url(\"/authentication/login/\"), {\n    email,\n    password\n  }, {\n    withCredentials: true\n  });\n};\nexport const apiLogout = token => {\n  return axios.get(url(\"/authentication/logout/\"), {\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\n\n//전체 과목 목록을 가져오는 api, 수업 등록에 사용\nexport const apiSubjects = async token => {\n  return await axios.get(url(\"/etl/class/\"), {\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\n\n//과목 등록 api\nexport const enrollSubjects = async (token, class_id) => {\n  return await axios({\n    method: \"post\",\n    url: url(\"/etl/class/enroll\"),\n    data: {\n      class_id\n    },\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\n\n// 수강생 목록 api\nexport const apiStudentsOfSubject = async (token, id) => {\n  return await axios.get(url(`/etl/class/${id}/user-list/`), {\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\n\n// 게시글 목록 (category = 'announcements' or 'questions')\nexport const apiPostList = async (token, class_id, category) => {\n  return await axios({\n    method: \"get\",\n    url: url(`/etl/class/${class_id}/${category}/`),\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\nexport const apiPost = async (token, post_id, category) => {\n  const modifiedCategory = category.slice(0, -1);\n  return await axios({\n    method: \"get\",\n    url: url(`/etl/${modifiedCategory}/${post_id}`),\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\n\n// export const apiPost = async (\n//   token: string | null,\n//   post_id: number,\n//   category: string\n// ) => {\n//   const modifiedCategory = category.slice(0, -1);\n//   return await axios({\n//     method: \"get\",\n//     url: url(`/etl/${modifiedCategory}/${post_id}`),\n//     withCredentials: true,\n//     headers: auth(token),\n//   });\n// };\n\nexport const apiAssignments = async (token, class_id) => {\n  return await axios.get(url(`/etl/assignments/class/${class_id}/`), {\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\nexport const apiAssignmentScore = async (token, assignment_id) => {\n  return await axios({\n    method: \"get\",\n    url: url(`/etl/assignments/${assignment_id}/score/`),\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\nexport const apiEnrollClass = async (token, class_id) => {\n  return await axios({\n    method: \"post\",\n    url: url(`/etl/class/enroll/`),\n    data: {\n      class_id\n    },\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\nexport const apiDropClass = async (token, class_id) => {\n  return await axios({\n    method: \"post\",\n    url: url(`/etl/class/drop/`),\n    data: {\n      class_id\n    },\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\n\n//kakaotalk social login 관련 변수\n\nconst CLIENT_ID = \"9abd4a226f299f3b2c393cc8dd0b9ed8\";\nconst REDIRECT_URI = \"http://localhost:3000/authentication/kakao/callback/\";\nexport const KAKAO_AUTH_URL = `https://kauth.kakao.com/oauth/authorize?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=code`;\nexport const kakaoLogin = () => {\n  return axios({});\n};","map":{"version":3,"names":["axios","url","path","param","auth","token","Authorization","apiSignUp","email","password","username","student_id","is_professor","post","withCredentials","apiLogin","apiLogout","get","headers","apiSubjects","enrollSubjects","class_id","method","data","apiStudentsOfSubject","id","apiPostList","category","apiPost","post_id","modifiedCategory","slice","apiAssignments","apiAssignmentScore","assignment_id","apiEnrollClass","apiDropClass","CLIENT_ID","REDIRECT_URI","KAKAO_AUTH_URL","kakaoLogin"],"sources":["/Users/chaenniee/Documents/team10-web/toyproject/src/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\n// import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { SignUpRequestBody, User } from \"./types\";\n\nexport const url = (path: string, param?: Record<string, string>) => {\n  return `http://etlclonetoyproject-env.eba-a6rqj2ev.ap-northeast-2.elasticbeanstalk.com${path}`;\n};\n\nexport const auth = (token: string | null) => ({\n  Authorization: `Token ${token}`,\n});\n\nexport const apiSignUp = (\n  email: string,\n  password: string,\n  username: string,\n  student_id: string,\n  is_professor: boolean\n) => {\n  return axios.post<SignUpRequestBody>(\n    url(\"/authentication/signup/\"),\n    { email, password, username, student_id, is_professor },\n    { withCredentials: true }\n  );\n};\n\nexport const apiLogin = (email: string, password: string) => {\n  return axios.post<User>(\n    url(\"/authentication/login/\"),\n    { email, password },\n    { withCredentials: true }\n  );\n};\n\nexport const apiLogout = (token: string) => {\n  return axios.get(url(\"/authentication/logout/\"), {\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\n//전체 과목 목록을 가져오는 api, 수업 등록에 사용\nexport const apiSubjects = async (token: string | null) => {\n  return await axios.get(url(\"/etl/class/\"), {\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\n//과목 등록 api\nexport const enrollSubjects = async (\n  token: string | null,\n  class_id: number\n) => {\n  return await axios({\n    method: \"post\",\n    url: url(\"/etl/class/enroll\"),\n    data: {\n      class_id,\n    },\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\n// 수강생 목록 api\nexport const apiStudentsOfSubject = async (\n  token: string | null,\n  id: number\n) => {\n  return await axios.get(url(`/etl/class/${id}/user-list/`), {\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\n// 게시글 목록 (category = 'announcements' or 'questions')\nexport const apiPostList = async (\n  token: string | null,\n  class_id: number,\n  category: string\n) => {\n  return await axios({\n    method: \"get\",\n    url: url(`/etl/class/${class_id}/${category}/`),\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\nexport const apiPost = async (\n  token: string | null,\n  post_id: number,\n  category: string\n) => {\n  const modifiedCategory = category.slice(0, -1);\n  return await axios({\n    method: \"get\",\n    url: url(`/etl/${modifiedCategory}/${post_id}`),\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\n// export const apiPost = async (\n//   token: string | null,\n//   post_id: number,\n//   category: string\n// ) => {\n//   const modifiedCategory = category.slice(0, -1);\n//   return await axios({\n//     method: \"get\",\n//     url: url(`/etl/${modifiedCategory}/${post_id}`),\n//     withCredentials: true,\n//     headers: auth(token),\n//   });\n// };\n\nexport const apiAssignments = async (\n  token: string | null,\n  class_id: number\n) => {\n  return await axios.get(url(`/etl/assignments/class/${class_id}/`), {\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\nexport const apiAssignmentScore = async (\n  token: string | null,\n  assignment_id: number\n) => {\n  return await axios({\n    method: \"get\",\n    url: url(`/etl/assignments/${assignment_id}/score/`),\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\nexport const apiEnrollClass = async (\n  token: string | null,\n  class_id: number\n) => {\n  return await axios({\n    method: \"post\",\n    url: url(`/etl/class/enroll/`),\n    data: {\n      class_id,\n    },\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\nexport const apiDropClass = async (token: string | null, class_id: number) => {\n  return await axios({\n    method: \"post\",\n    url: url(`/etl/class/drop/`),\n    data: {\n      class_id,\n    },\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\n//kakaotalk social login 관련 변수\n\nconst CLIENT_ID = \"9abd4a226f299f3b2c393cc8dd0b9ed8\";\nconst REDIRECT_URI = \"http://localhost:3000/authentication/kakao/callback/\";\n\nexport const KAKAO_AUTH_URL = `https://kauth.kakao.com/oauth/authorize?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=code`;\n\nexport const kakaoLogin = () => {\n  return axios({});\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}