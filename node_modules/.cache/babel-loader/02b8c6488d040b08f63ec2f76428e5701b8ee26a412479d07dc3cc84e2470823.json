{"ast":null,"code":"var _jsxFileName = \"/Users/chaenniee/Documents/team10-web/toyproject/src/components/assignments/AssignmentDetailsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState, useRef } from 'react';\nimport SubjectTemplate from '../SubjectTemplate';\nimport styles from './AssignmentDetailsPage.module.scss';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { apiAssignmentScore, apiGetFile, auth, url, apiSubmitAssignment, apiGetSubmittedAssignment } from '../../lib/api';\nimport { useSessionContext } from '../../context/SessionContext';\nimport { timestampToDateWithLetters } from '../../lib/formatting';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircleCheck, faCircleXmark } from '@fortawesome/free-solid-svg-icons';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const apiAssignment = async (token, assignment_id) => {\n  return await axios({\n    method: 'get',\n    url: url(`/etl/assignments/${assignment_id}/`),\n    withCredentials: true,\n    headers: auth(token)\n  });\n};\nconst isOpen = due_date => {\n  const timestamp = parseInt(due_date);\n  return timestamp - Date.now() > 0;\n};\nconst DownloadFile = _ref => {\n  let {\n    file,\n    token\n  } = _ref;\n  const originalFileURL = decodeURI(file);\n  const urlParams = originalFileURL.split('assignments/')[1].split('?X-Amz')[0];\n  const parts = urlParams.split('.');\n  const extension = parts[parts.length - 1];\n  const handleDownload = async event => {\n    event.preventDefault();\n    await apiGetFile(file, token, urlParams, extension);\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: styles.download,\n    onClick: handleDownload,\n    children: urlParams\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_c = DownloadFile;\nexport default function AssignmentDetailsPage() {\n  _s();\n  const {\n    token,\n    getRefreshToken,\n    user\n  } = useSessionContext();\n  const {\n    subjectid,\n    assignmentID\n  } = useParams();\n  const [userAssignment, setUserAssignment] = useState();\n  const [submitFile, setSubmitFile] = useState(null);\n  const formRef = useRef(null);\n  const [submittedFile, setSubmittedFile] = useState(null);\n  const navigate = useNavigate();\n  const onUpload = useCallback(e => {\n    let selectFiles;\n    if (e.type === 'drop') {\n      selectFiles = e.dataTransfer.files;\n    } else {\n      selectFiles = e.target.files;\n    }\n    setSubmitFile(selectFiles[0]);\n  }, [submitFile]);\n  const onSubmission = e => {\n    e.preventDefault();\n    if (submitFile) {\n      const formData = new FormData(formRef.current ? formRef.current : undefined);\n      formData.append('file', submitFile);\n      apiSubmitAssignment(token, userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.assignment.id, formData).then(() => {\n        setSubmitFile(null);\n        setUserAssignment(userAssignment ? {\n          ...userAssignment,\n          is_submitted: true\n        } : undefined);\n        toast('제출되었습니다!', {\n          position: 'top-center',\n          theme: 'colored'\n        });\n      }).catch(r => {\n        toast('제출에 실패했습니다', {\n          position: 'top-center',\n          theme: 'colored'\n        });\n        console.log(r);\n      });\n    }\n  };\n  useEffect(() => {\n    if (!token) return;\n    (async () => {\n      try {\n        const res = await apiAssignment(token, parseInt(assignmentID));\n        const a = await apiAssignmentScore(token, res.data.id);\n        setUserAssignment({\n          assignment: res.data,\n          is_submitted: a.data.is_submitted,\n          is_graded: a.data.is_graded,\n          score: a.data.score\n        });\n      } catch {\n        const localRefreshToken = localStorage.getItem('refresh');\n        const resToken = await getRefreshToken(localRefreshToken ? localRefreshToken : 'temp');\n        const newToken = resToken.data.access;\n        const res = await apiAssignment(token, parseInt(assignmentID));\n        const a = await apiAssignmentScore(newToken, res.data.id);\n        setUserAssignment({\n          assignment: res.data,\n          is_submitted: a.data.is_submitted,\n          is_graded: a.data.is_graded,\n          score: a.data.score\n        });\n      }\n    })();\n  }, [token]);\n  useEffect(() => {\n    if (userAssignment) {\n      apiGetSubmittedAssignment(token, userAssignment.assignment.id, Number(user === null || user === void 0 ? void 0 : user.id)).then(r => {\n        setSubmittedFile(r.data.url);\n      }).catch(r => console.log(r));\n    }\n  }, [userAssignment]);\n  return /*#__PURE__*/_jsxDEV(SubjectTemplate, {\n    subject: subjectid,\n    page: \"\\uACFC\\uC81C\",\n    content: userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.assignment.name,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.left,\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: styles.header,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.title,\n            children: userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.assignment.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), submitFile ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.headerSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.fileName,\n              children: submitFile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              name: \"assignment\",\n              encType: \"multipart/form-data\",\n              onSubmit: e => onSubmission(e),\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                style: {\n                  display: 'none'\n                },\n                id: \"fileSubmit\",\n                accept: \"image/*,audio/*,video/mp4,video/x-m4v,application/pdf,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,.csv\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fileSubmit\",\n                className: styles.submit,\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uC81C\\uCD9C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              name: \"submit\",\n              encType: \"multipart/form-data\",\n              ref: formRef,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"fileUpload\",\n                style: {\n                  display: 'none'\n                },\n                accept: \"image/*,audio/*,video/mp4,video/x-m4v,application/pdf,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,.csv\",\n                onChange: onUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fileUpload\",\n                className: styles.upload,\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: userAssignment !== null && userAssignment !== void 0 && userAssignment.is_submitted ? '다시 제출하기' : '과제 제출하기'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: styles.details,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\uB9C8\\uAC10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: timestampToDateWithLetters(userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.assignment.due_date)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\uB9CC\\uC810\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.assignment.max_grade\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\uD30C\\uC77C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: userAssignment !== null && userAssignment !== void 0 && userAssignment.assignment.file ? /*#__PURE__*/_jsxDEV(DownloadFile, {\n              file: userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.assignment.file,\n              token: token\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this) : '파일 없음'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n          className: styles.content,\n          children: \"\\uB0B4\\uC6A9 \\uC5C6\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.right,\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: \"\\uB9C8\\uAC10 \\uC5EC\\uBD80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), isOpen(userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.assignment.due_date) ? /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCircleCheck,\n            className: styles.fa\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this), \"\\uC81C\\uCD9C \\uAC00\\uB2A5\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"b\", {\n          className: styles.closed,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCircleXmark,\n            className: styles.fa\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), \"\\uB9C8\\uAC10\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          children: \"\\uC81C\\uCD9C\\uBB3C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), userAssignment !== null && userAssignment !== void 0 && userAssignment.is_submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faCircleCheck,\n              className: styles.fa\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this), \"\\uC81C\\uCD9C\\uB428\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this), submittedFile ? /*#__PURE__*/_jsxDEV(\"a\", {\n            className: styles.link,\n            onClick: () => window.open(submittedFile, '_blank'),\n            children: [\"\\uC81C\\uCD9C\\uBB3C \\uC5F4\\uB78C\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 23\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"b\", {\n          className: styles.closed,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCircleXmark,\n            className: styles.fa\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), \"\\uC81C\\uCD9C\\uD558\\uC9C0 \\uC54A\\uC74C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          children: \"\\uC131\\uC801\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), userAssignment !== null && userAssignment !== void 0 && userAssignment.is_graded ? /*#__PURE__*/_jsxDEV(\"b\", {\n          className: styles.score,\n          children: '' + (userAssignment === null || userAssignment === void 0 ? void 0 : userAssignment.score) + '점'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"b\", {\n          className: styles.score,\n          children: \"\\uCC44\\uC810\\uB418\\uC9C0 \\uC54A\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n}\n_s(AssignmentDetailsPage, \"1XfHNP5GrJBEGp0zMJKyh4coZsg=\", false, function () {\n  return [useSessionContext, useParams, useNavigate];\n});\n_c2 = AssignmentDetailsPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"DownloadFile\");\n$RefreshReg$(_c2, \"AssignmentDetailsPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useRef","SubjectTemplate","styles","useNavigate","useParams","apiAssignmentScore","apiGetFile","auth","url","apiSubmitAssignment","apiGetSubmittedAssignment","useSessionContext","timestampToDateWithLetters","axios","FontAwesomeIcon","faCircleCheck","faCircleXmark","toast","apiAssignment","token","assignment_id","method","withCredentials","headers","isOpen","due_date","timestamp","parseInt","Date","now","DownloadFile","file","originalFileURL","decodeURI","urlParams","split","parts","extension","length","handleDownload","event","preventDefault","download","AssignmentDetailsPage","getRefreshToken","user","subjectid","assignmentID","userAssignment","setUserAssignment","submitFile","setSubmitFile","formRef","submittedFile","setSubmittedFile","navigate","onUpload","e","selectFiles","type","dataTransfer","files","target","onSubmission","formData","FormData","current","undefined","append","assignment","id","then","is_submitted","position","theme","catch","r","console","log","res","a","data","is_graded","score","localRefreshToken","localStorage","getItem","resToken","newToken","access","Number","name","wrapper","left","header","title","headerSubmit","fileName","display","submit","upload","details","max_grade","content","right","fa","closed","link","window","open"],"sources":["/Users/chaenniee/Documents/team10-web/toyproject/src/components/assignments/AssignmentDetailsPage.tsx"],"sourcesContent":["import React, {\n  ChangeEvent,\n  FormEvent,\n  useCallback,\n  useEffect,\n  useState,\n    useRef,\n} from 'react';\nimport SubjectTemplate from '../SubjectTemplate';\nimport styles from './AssignmentDetailsPage.module.scss';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n  apiAssignmentScore,\n  apiAssignments,\n  apiGetFile,\n  auth,\n  url,\n  apiUploadImage,\n  apiSubmitAssignment, apiGetSubmittedAssignment,\n} from '../../lib/api';\nimport { useSessionContext } from '../../context/SessionContext';\nimport { UserAssignmentInterface } from '../../lib/types';\nimport { timestampToDateWithLetters } from '../../lib/formatting';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCircleCheck,\n  faCircleXmark,\n} from '@fortawesome/free-solid-svg-icons';\nimport { toast } from 'react-toastify';\n\nexport const apiAssignment = async (\n  token: string | null,\n  assignment_id: number\n) => {\n  return await axios({\n    method: 'get',\n    url: url(`/etl/assignments/${assignment_id}/`),\n    withCredentials: true,\n    headers: auth(token),\n  });\n};\n\nconst isOpen = (due_date: string): boolean => {\n  const timestamp = parseInt(due_date);\n  return timestamp - Date.now() > 0;\n};\n\nconst DownloadFile = ({\n  file,\n  token,\n}: {\n  file: string;\n  token: string | null;\n}) => {\n  const originalFileURL = decodeURI(file);\n  const urlParams = originalFileURL.split('assignments/')[1].split('?X-Amz')[0];\n  const parts = urlParams.split('.');\n  const extension = parts[parts.length - 1];\n  const handleDownload = async (event: React.MouseEvent<HTMLSpanElement>) => {\n    event.preventDefault();\n    await apiGetFile(file, token, urlParams, extension);\n  };\n\n  return (\n    <span className={styles.download} onClick={handleDownload}>\n      {urlParams}\n    </span>\n  );\n};\n\nexport default function AssignmentDetailsPage() {\n  const { token, getRefreshToken, user } = useSessionContext();\n  const { subjectid, assignmentID } = useParams();\n  const [userAssignment, setUserAssignment] =\n    useState<UserAssignmentInterface>();\n  const [submitFile, setSubmitFile] = useState<File | null>(null);\n  const formRef = useRef<HTMLFormElement | null >(null);\n  const [submittedFile, setSubmittedFile] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  const onUpload = useCallback(\n    (e: ChangeEvent<HTMLInputElement> | any): void => {\n      let selectFiles: File[];\n      if (e.type === 'drop') {\n        selectFiles = e.dataTransfer.files;\n      } else {\n        selectFiles = e.target.files;\n      }\n      setSubmitFile(selectFiles[0]);\n    },\n    [submitFile]\n  );\n\n  const onSubmission = (e: FormEvent<HTMLElement>) => {\n    e.preventDefault();\n    if (submitFile) {\n      const formData = new FormData(formRef.current ? formRef.current : undefined);\n      formData.append('file', submitFile);\n      apiSubmitAssignment(token, userAssignment?.assignment.id as number, formData)\n        .then(() => {\n          setSubmitFile(null);\n          setUserAssignment(userAssignment ? {...userAssignment, is_submitted: true} : undefined)\n          toast('제출되었습니다!', {\n            position: 'top-center',\n            theme: 'colored',\n          });\n        })\n        .catch((r) => {\n          toast('제출에 실패했습니다', {\n            position: 'top-center',\n            theme: 'colored',\n          });\n          console.log(r);\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (!token) return;\n    (async () => {\n      try {\n        const res = await apiAssignment(\n          token,\n          parseInt(assignmentID as string)\n        );\n        const a = await apiAssignmentScore(token, res.data.id);\n        setUserAssignment({\n          assignment: res.data,\n          is_submitted: a.data.is_submitted,\n          is_graded: a.data.is_graded,\n          score: a.data.score,\n        });\n      } catch {\n        const localRefreshToken = localStorage.getItem('refresh');\n        const resToken = await getRefreshToken(\n          localRefreshToken ? localRefreshToken : 'temp'\n        );\n        const newToken = resToken.data.access;\n        const res = await apiAssignment(\n          token,\n          parseInt(assignmentID as string)\n        );\n        const a = await apiAssignmentScore(newToken, res.data.id);\n        setUserAssignment({\n          assignment: res.data,\n          is_submitted: a.data.is_submitted,\n          is_graded: a.data.is_graded,\n          score: a.data.score,\n        });\n      }\n    })();\n  }, [token]);\n\n  useEffect(() => {\n    if (userAssignment){\n      apiGetSubmittedAssignment(token, userAssignment.assignment.id, Number(user?.id))\n          .then((r) => {\n            setSubmittedFile(r.data.url)\n          })\n          .catch((r) => console.log(r))\n    }\n  }, [userAssignment])\n\n  return (\n    <SubjectTemplate\n      subject={subjectid as string}\n      page='과제'\n      content={userAssignment?.assignment.name}\n    >\n      <div className={styles.wrapper}>\n        <div className={styles.left}>\n          <header className={styles.header}>\n            <p className={styles.title}>{userAssignment?.assignment.name}</p>\n            {submitFile ? (\n              <div className={styles.headerSubmit}>\n                <p className={styles.fileName}>{submitFile.name}</p>\n                <form\n                  name='assignment'\n                  encType='multipart/form-data'\n                  onSubmit={(e) => onSubmission(e)}\n                >\n                  <input\n                    type='submit'\n                    style={{ display: 'none' }}\n                    id='fileSubmit'\n                    accept='image/*,audio/*,video/mp4,video/x-m4v,application/pdf,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,.csv'\n                  />\n                  <label htmlFor='fileSubmit' className={styles.submit}>\n                    <p>제출</p>\n                  </label>\n                </form>\n              </div>\n            ) : (\n              <div>\n                <form\n                    name=\"submit\"\n                    encType='multipart/form-data'\n                    ref={formRef}\n                >\n                  <input\n                      type='file'\n                      id='fileUpload'\n                      style={{ display: 'none' }}\n                      accept='image/*,audio/*,video/mp4,video/x-m4v,application/pdf,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,.csv'\n                      onChange={onUpload}\n                  />\n                  <label htmlFor='fileUpload' className={styles.upload}>\n                    <p>\n                      {userAssignment?.is_submitted\n                          ? '다시 제출하기'\n                          : '과제 제출하기'}\n                    </p>\n                  </label>\n                </form>\n              </div>\n            )}\n          </header>\n          <ul className={styles.details}>\n            <b>마감</b>\n            <li>\n              {timestampToDateWithLetters(\n                userAssignment?.assignment.due_date as string\n              )}\n            </li>\n            <b>만점</b>\n            <li>{userAssignment?.assignment.max_grade}</li>\n            <b>파일</b>\n            <li>\n              {userAssignment?.assignment.file ? (\n                <DownloadFile\n                  file={userAssignment?.assignment.file}\n                  token={token}\n                ></DownloadFile>\n              ) : (\n                '파일 없음'\n              )}\n            </li>\n          </ul>\n          <article className={styles.content}>내용 없음</article>\n        </div>\n        <div className={styles.right}>\n          <header>마감 여부</header>\n          {isOpen(userAssignment?.assignment.due_date as string) ? (\n            <b>\n              <FontAwesomeIcon icon={faCircleCheck} className={styles.fa} />\n              제출 가능\n            </b>\n          ) : (\n            <b className={styles.closed}>\n              <FontAwesomeIcon icon={faCircleXmark} className={styles.fa} />\n              마감\n            </b>\n          )}\n          <header>제출물</header>\n          {userAssignment?.is_submitted ? (\n              <div>\n                <b>\n                  <FontAwesomeIcon icon={faCircleCheck} className={styles.fa} />\n                  제출됨\n                </b>\n                {\n                  submittedFile ?\n                      <a className={styles.link} onClick={() => window.open(submittedFile, '_blank')}>\n                        제출물 열람<br/><br/>\n                      </a> : null\n                }\n              </div>\n          ) : (\n            <b className={styles.closed}>\n              <FontAwesomeIcon icon={faCircleXmark} className={styles.fa} />\n              제출하지 않음\n            </b>\n          )}\n          <header>성적</header>\n          {userAssignment?.is_graded ? (\n            <b className={styles.score}>{'' + userAssignment?.score + '점'}</b>\n          ) : (\n            <b className={styles.score}>채점되지 않음</b>\n          )}\n        </div>\n      </div>\n    </SubjectTemplate>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}