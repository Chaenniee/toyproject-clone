{"ast":null,"code":"var _jsxFileName = \"/Users/chaenniee/Documents/team10-web/toyproject/src/context/SubjectContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { apiSubjects } from \"../lib/api\";\nimport { useSessionContext } from \"../context/SessionContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubjectContext = /*#__PURE__*/createContext({});\n\n//default 붙이면 prettier 이상하게 적용됨\nexport function SubjectProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const {\n    token,\n    user\n  } = useSessionContext();\n  const [subjects, setSubjects] = useState(undefined);\n  const getSubjects = token => {\n    apiSubjects(token).then(res => {\n      setSubjects(res.data);\n    }).catch(err => console.log(err));\n  };\n  useEffect(() => {\n    if (token) getSubjects(token);\n  }, [token]);\n  const mySubjects = user === null || user === void 0 ? void 0 : user.classes;\n  return /*#__PURE__*/_jsxDEV(SubjectContext.Provider, {\n    value: {\n      subjects,\n      mySubjects\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(SubjectProvider, \"Xs4pHe5otQ6mgBaxekKr4f+B5O4=\", false, function () {\n  return [useSessionContext];\n});\n_c = SubjectProvider;\nexport const useSubjectContext = () => {\n  _s2();\n  return useContext(SubjectContext);\n};\n_s2(useSubjectContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"SubjectProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","apiSubjects","useSessionContext","SubjectContext","SubjectProvider","children","token","user","subjects","setSubjects","undefined","getSubjects","then","res","data","catch","err","console","log","mySubjects","classes","useSubjectContext"],"sources":["/Users/chaenniee/Documents/team10-web/toyproject/src/context/SubjectContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { apiSubjects } from \"../lib/api\";\nimport { useSessionContext } from \"../context/SessionContext\";\nimport { SubjectType } from \"../lib/types\";\n\ntype SubjectContextType = {\n  subjects: SubjectType[] | undefined;\n  mySubjects: SubjectType[] | undefined;\n};\n\nconst SubjectContext = createContext<SubjectContextType>(\n  {} as SubjectContextType\n);\n\n//default 붙이면 prettier 이상하게 적용됨\nexport function SubjectProvider({ children }: { children: React.ReactNode }) {\n  const { token, user } = useSessionContext();\n  const [subjects, setSubjects] = useState<SubjectType[] | undefined>(\n    undefined\n  );\n\n  const getSubjects = (token: string | null) => {\n    apiSubjects(token)\n      .then((res) => {\n        setSubjects(res.data);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  useEffect(() => {\n    if (token) getSubjects(token);\n  }, [token]);\n\n  const mySubjects = user?.classes;\n\n  return (\n    <SubjectContext.Provider value={{ subjects, mySubjects }}>\n      {children}\n    </SubjectContext.Provider>\n  );\n}\n\nexport const useSubjectContext = () => useContext(SubjectContext);\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC7E,SAASC,WAAW,QAAQ,YAAY;AACxC,SAASC,iBAAiB,QAAQ,2BAA2B;AAAC;AAQ9D,MAAMC,cAAc,gBAAGN,aAAa,CAClC,CAAC,CAAC,CACH;;AAED;AACA,OAAO,SAASO,eAAe,OAA8C;EAAA;EAAA,IAA7C;IAAEC;EAAwC,CAAC;EACzE,MAAM;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGL,iBAAiB,EAAE;EAC3C,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CACtCU,SAAS,CACV;EAED,MAAMC,WAAW,GAAIL,KAAoB,IAAK;IAC5CL,WAAW,CAACK,KAAK,CAAC,CACfM,IAAI,CAAEC,GAAG,IAAK;MACbJ,WAAW,CAACI,GAAG,CAACC,IAAI,CAAC;IACvB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACrC,CAAC;EAEDjB,SAAS,CAAC,MAAM;IACd,IAAIO,KAAK,EAAEK,WAAW,CAACL,KAAK,CAAC;EAC/B,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,MAAMa,UAAU,GAAGZ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEa,OAAO;EAEhC,oBACE,QAAC,cAAc,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEZ,QAAQ;MAAEW;IAAW,CAAE;IAAA,UACtDd;EAAQ;IAAA;IAAA;IAAA;EAAA,QACe;AAE9B;AAAC,GAzBeD,eAAe;EAAA,QACLF,iBAAiB;AAAA;AAAA,KAD3BE,eAAe;AA2B/B,OAAO,MAAMiB,iBAAiB,GAAG;EAAA;EAAA,OAAMvB,UAAU,CAACK,cAAc,CAAC;AAAA;AAAC,IAArDkB,iBAAiB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}