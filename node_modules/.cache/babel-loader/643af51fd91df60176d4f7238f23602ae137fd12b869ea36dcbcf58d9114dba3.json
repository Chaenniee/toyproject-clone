{"ast":null,"code":"var _jsxFileName = \"/Users/chaenniee/Documents/team10-web/toyproject/src/components/assignments/AssignmentPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport AssignmentBlock from './AssignmentBlock';\nimport styles from './AssignmentPage.module.scss';\nimport SubjectTemplate from '../SubjectTemplate';\nimport { useParams } from 'react-router-dom';\nimport { apiAssignments, apiAssignmentScore } from '../../lib/api';\nimport { useSessionContext } from '../../context/SessionContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AssignmentPage() {\n  _s();\n  const {\n    token\n  } = useSessionContext();\n  const {\n    subjectid\n  } = useParams();\n  const [isCategorized, setIsCategorized] = useState(true);\n  // const [assignmentsByTime, setAssignmentsByTime] = useState<AssignmentInterface>({\n  //     assignments: []\n  // });\n  const [assignmentBlocks, setAssignmentBlocks] = useState([]);\n  const getAllAssignments = (token, class_id) => {\n    apiAssignments(token, class_id).then(r => {\n      getAssignmentScore(token, r.data);\n    }).catch(r => console.log(r));\n  };\n  const getAssignmentScore = (token, assignments) => {\n    assignments.map(assignment => {\n      apiAssignmentScore(token, assignment.id).then(r => {\n        let temp = new Array(assignments.length);\n        temp[assignments.indexOf(assignment)] = {\n          assignment: assignment,\n          is_submitted: r.data.is_submitted,\n          is_graded: r.data.is_graded,\n          score: r.data.score\n        };\n        setAssignmentBlocks([{\n          category: '과제',\n          // category 생기면 바꿀 예정\n          assignments: temp\n        }]);\n      }).catch(r => console.log(r));\n    });\n  };\n  useEffect(() => {\n    const id = Number(subjectid);\n    if (token) {\n      getAllAssignments(token, id);\n    }\n  }, [token, setAssignmentBlocks]);\n  return /*#__PURE__*/_jsxDEV(SubjectTemplate, {\n    subject: subjectid,\n    page: \"\\uACFC\\uC81C\",\n    content: undefined,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"\\uACFC\\uC81C \\uAC80\\uC0C9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: isCategorized ? undefined : styles.categorized,\n          onClick: () => setIsCategorized(!isCategorized),\n          children: \"\\uB9C8\\uAC10\\uC21C\\uC73C\\uB85C \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: isCategorized ? styles.categorized : undefined,\n          onClick: () => setIsCategorized(!isCategorized),\n          children: \"\\uC720\\uD615\\uBCC4\\uB85C \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), assignmentBlocks.map(elem => /*#__PURE__*/_jsxDEV(AssignmentBlock, {\n        assignmentBlock: elem\n      }, elem.category, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(AssignmentPage, \"+INeFtxKUV1ihtNCy7Ldmuh0/y8=\", false, function () {\n  return [useSessionContext, useParams];\n});\n_c = AssignmentPage;\nvar _c;\n$RefreshReg$(_c, \"AssignmentPage\");","map":{"version":3,"names":["React","useEffect","useState","AssignmentBlock","styles","SubjectTemplate","useParams","apiAssignments","apiAssignmentScore","useSessionContext","AssignmentPage","token","subjectid","isCategorized","setIsCategorized","assignmentBlocks","setAssignmentBlocks","getAllAssignments","class_id","then","r","getAssignmentScore","data","catch","console","log","assignments","map","assignment","id","temp","Array","length","indexOf","is_submitted","is_graded","score","category","Number","undefined","wrapper","header","categorized","elem"],"sources":["/Users/chaenniee/Documents/team10-web/toyproject/src/components/assignments/AssignmentPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AssignmentBlock from './AssignmentBlock';\nimport styles from './AssignmentPage.module.scss';\nimport SubjectTemplate from '../SubjectTemplate';\nimport { useParams } from 'react-router-dom';\nimport {\n  AssignmentInterface,\n  UserAssignmentInterface,\n  AssignmentBlockInterface,\n} from '../../lib/types';\nimport { apiAssignments, apiAssignmentScore } from '../../lib/api';\nimport { useSessionContext } from '../../context/SessionContext';\nimport { useSubjectContext } from '../../context/SubjectContext';\n\nexport default function AssignmentPage() {\n  const { token } = useSessionContext();\n  const { subjectid } = useParams();\n  const [isCategorized, setIsCategorized] = useState(true);\n  // const [assignmentsByTime, setAssignmentsByTime] = useState<AssignmentInterface>({\n  //     assignments: []\n  // });\n  const [assignmentBlocks, setAssignmentBlocks] = useState<\n    AssignmentBlockInterface[]\n  >([]);\n\n  const getAllAssignments = (token: string | null, class_id: number) => {\n    apiAssignments(token, class_id)\n      .then((r) => {\n        getAssignmentScore(token, r.data);\n      })\n      .catch((r) => console.log(r));\n  };\n\n  const getAssignmentScore = (\n    token: string | null,\n    assignments: AssignmentInterface[]\n  ) => {\n    assignments.map((assignment) => {\n      apiAssignmentScore(token, assignment.id)\n        .then((r) => {\n          let temp: UserAssignmentInterface[] = new Array(assignments.length);\n          temp[assignments.indexOf(assignment)] = {\n            assignment: assignment,\n            is_submitted: r.data.is_submitted,\n            is_graded: r.data.is_graded,\n            score: r.data.score,\n          };\n          setAssignmentBlocks([\n            {\n              category: '과제', // category 생기면 바꿀 예정\n              assignments: temp,\n            },\n          ]);\n        })\n        .catch((r) => console.log(r));\n    });\n  };\n\n  useEffect(() => {\n    const id = Number(subjectid);\n    if (token) {\n      getAllAssignments(token, id);\n    }\n  }, [token, setAssignmentBlocks]);\n\n  return (\n    <SubjectTemplate\n      subject={subjectid as string}\n      page='과제'\n      content={undefined}\n    >\n      <div className={styles.wrapper}>\n        <header className={styles.header}>\n          <input placeholder='과제 검색' />\n          <button\n            className={isCategorized ? undefined : styles.categorized}\n            onClick={() => setIsCategorized(!isCategorized)}\n          >\n            마감순으로 보기\n          </button>\n          <button\n            className={isCategorized ? styles.categorized : undefined}\n            onClick={() => setIsCategorized(!isCategorized)}\n          >\n            유형별로 보기\n          </button>\n        </header>\n        {assignmentBlocks.map((elem) => (\n          <AssignmentBlock key={elem.category} assignmentBlock={elem} />\n        ))}\n      </div>\n    </SubjectTemplate>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}