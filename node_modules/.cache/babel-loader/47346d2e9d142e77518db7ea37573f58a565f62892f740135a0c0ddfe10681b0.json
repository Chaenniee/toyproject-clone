{"ast":null,"code":"var _jsxFileName = \"/Users/chaenniee/Documents/team10-web/toyproject/src/components/grades/GradesPage.tsx\",\n  _s = $RefreshSig$();\nimport SubjectTemplate from '../SubjectTemplate';\nimport styles from './GradesPage.module.scss';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { useSessionContext } from '../../context/SessionContext';\nimport { apiAssignments, apiAssignmentTotalScore } from '../../lib/api';\nimport dayjs from 'dayjs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GradesPage() {\n  _s();\n  const {\n    subjectid\n  } = useParams();\n  const {\n    user\n  } = useSessionContext();\n  const {\n    token,\n    getRefreshToken\n  } = useSessionContext();\n  const [assignments, setAssignments] = useState([]);\n  const [scores, setScores] = useState([]);\n  const id = Number(subjectid);\n  const navigate = useNavigate();\n  useEffect(() => {\n    (async () => {\n      const assignRes = await apiAssignments(token, id); //token을 이전거를 사용하게 된다.\n      setAssignments(assignRes.data);\n      const scoreRes = await apiAssignmentTotalScore(token, id);\n      setScores(scoreRes.data);\n    })();\n  }, [subjectid, token]);\n  return /*#__PURE__*/_jsxDEV(SubjectTemplate, {\n    subject: subjectid,\n    page: \"\\uC131\\uC801\",\n    content: `${user === null || user === void 0 ? void 0 : user.username} (${user === null || user === void 0 ? void 0 : user.student_id})`,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.h1,\n      children: `${user === null || user === void 0 ? void 0 : user.username} (${user === null || user === void 0 ? void 0 : user.student_id})의 성적`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: styles.table,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: styles.name,\n            children: \"\\uC774\\uB984\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: styles.dueDate,\n            children: \"\\uB9C8\\uAC10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: styles.status,\n            children: \"\\uC0C1\\uD0DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: styles.grade,\n            children: \"\\uC810\\uC218\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: styles.maxGrade,\n            children: \"\\uCD1D\\uC810\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: assignments && assignments.map((assignment, assignmentIdx) => {\n          const timestamp = Number(assignment.due_date);\n          const date = dayjs(timestamp).format('YYYY-MM-DD');\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: styles.name,\n              children: assignment.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: styles.dueDate,\n              children: date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: styles.status,\n              children: scores.map((score, scoreIdx) => {\n                if (scoreIdx === assignmentIdx) {\n                  return score.is_submitted ? '제출됨' : '제출되지 않음';\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: styles.grade,\n              children: scores.map((score, scoreIdx) => {\n                if (scoreIdx === assignmentIdx) {\n                  return score.score;\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: styles.maxGrade,\n              children: assignment.max_grade\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)]\n          }, assignment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(GradesPage, \"kzYrLZJac5xj0Q/diCV4stF0TnE=\", false, function () {\n  return [useParams, useSessionContext, useSessionContext, useNavigate];\n});\n_c = GradesPage;\nvar _c;\n$RefreshReg$(_c, \"GradesPage\");","map":{"version":3,"names":["SubjectTemplate","styles","useNavigate","useParams","useEffect","useState","useSessionContext","apiAssignments","apiAssignmentTotalScore","dayjs","GradesPage","subjectid","user","token","getRefreshToken","assignments","setAssignments","scores","setScores","id","Number","navigate","assignRes","data","scoreRes","username","student_id","h1","table","name","dueDate","status","grade","maxGrade","map","assignment","assignmentIdx","timestamp","due_date","date","format","score","scoreIdx","is_submitted","max_grade"],"sources":["/Users/chaenniee/Documents/team10-web/toyproject/src/components/grades/GradesPage.tsx"],"sourcesContent":["import SubjectTemplate from '../SubjectTemplate';\nimport styles from './GradesPage.module.scss';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { useSessionContext } from '../../context/SessionContext';\nimport {\n  apiAssignments,\n  apiAssignmentScore,\n  apiAssignmentTotalScore,\n} from '../../lib/api';\nimport { AssignmentInterface, UserScoreInterface } from '../../lib/types';\nimport dayjs from 'dayjs';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\n\nexport default function GradesPage() {\n  const { subjectid } = useParams();\n\n  const { user } = useSessionContext();\n  const { token, getRefreshToken } = useSessionContext();\n\n  const [assignments, setAssignments] = useState<AssignmentInterface[]>([]);\n  const [scores, setScores] = useState<UserScoreInterface[]>([]);\n\n  const id = Number(subjectid);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    (async () => {\n      const assignRes = await apiAssignments(token, id); //token을 이전거를 사용하게 된다.\n      setAssignments(assignRes.data);\n      const scoreRes = await apiAssignmentTotalScore(token, id);\n      setScores(scoreRes.data);\n    })();\n  }, [subjectid, token]);\n\n  return (\n    <SubjectTemplate\n      subject={subjectid as string}\n      page='성적'\n      content={`${user?.username} (${user?.student_id})`}\n    >\n      <h1\n        className={styles.h1}\n      >{`${user?.username} (${user?.student_id})의 성적`}</h1>\n\n      <table className={styles.table}>\n        <thead>\n          <tr>\n            <th className={styles.name}>이름</th>\n            <th className={styles.dueDate}>마감</th>\n            <th className={styles.status}>상태</th>\n            <th className={styles.grade}>점수</th>\n            <th className={styles.maxGrade}>총점</th>\n          </tr>\n        </thead>\n        <tbody>\n          {assignments &&\n            assignments.map((assignment, assignmentIdx) => {\n              const timestamp = Number(assignment.due_date);\n              const date = dayjs(timestamp).format('YYYY-MM-DD');\n              return (\n                <tr key={assignment.id}>\n                  <td className={styles.name}>{assignment.name}</td>\n                  <td className={styles.dueDate}>{date}</td>\n                  <td className={styles.status}>\n                    {scores.map((score, scoreIdx) => {\n                      if (scoreIdx === assignmentIdx) {\n                        return score.is_submitted ? '제출됨' : '제출되지 않음';\n                      }\n                    })}\n                  </td>\n                  <td className={styles.grade}>\n                    {scores.map((score, scoreIdx) => {\n                      if (scoreIdx === assignmentIdx) {\n                        return score.score;\n                      }\n                    })}\n                  </td>\n                  <td className={styles.maxGrade}>{assignment.max_grade}</td>\n                </tr>\n              );\n            })}\n        </tbody>\n      </table>\n    </SubjectTemplate>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}